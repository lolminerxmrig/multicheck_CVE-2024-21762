def generar_ipv4(start,end,ports,endfile):
    """
    Esta funcion genera un archivo de IPv4.
    Los parametros de entrada son start y end, con los que se le entrega un rango de IPv4s a escanear, una lista de puertos que revisar en cada IP, y un archivo destino donde guardar esta lista.
    ATENCION: Si no se entrega una lista de puertos, la funci√≥n agregara TODOS los puertos a cada IP.
    """
    with open(endfile, 'w') as file:
        try:
            ip_start = list(map(int, start.split('.')))
            ip_end = list(map(int, end.split('.')))
            for a in range(ip_start[0], ip_end[0] + 1):
                for b in range(ip_start[1], ip_end[1] + 1):
                    for c in range(ip_start[2], ip_end[2] + 1):
                        for d in range(ip_start[3], ip_end[3] + 1):
                            linea = f"{a}.{b}.{c}.{d}"
                            if not(ports):
                                for i in range(1,10000):
                                    linea = {linea},{i}
                            else:
                                for puerto in ports:
                                    linea = f"{linea},{puerto}"
                            linea = f"{linea}\n"
                            file.write(linea)
            print("Direcciones IPv4 generadas exitosamente y guardadas en", endfile)
        except ValueError as e:
            print("Error:", e)
